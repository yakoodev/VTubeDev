# D3_1 — Remote token auth для /view и /stream

**Status:** todo

## Цель

Реализовать требование архитектуры: токен обязателен для remote доступа к `/view` и `/stream` (localhost остаётся без токена).

## Контекст / ссылки

- `docs/vtube-mvp.md`
- `docs/app-api.md`

## Объём

**Включено:**

- Проверка токена для non-localhost
- Единый параметр `token` в query string
- Читабельная ошибка 401/403

**Не включено:**

- Роли/инвайты/ACL (отдельные задачи)

## Шаги реализации

1. Определить правила: localhost без токена, remote требует `?token=...`.
2. Реализовать проверку в middleware или на уровне endpoint.
3. Логировать попытки без токена.

## Критерии приёмки

- [ ] Localhost открывает `/view` и `/stream` без токена.
- [ ] Remote без токена получает 401/403.
- [ ] Remote с токеном — доступ есть.

## Как проверить

- С localhost открыть `/view/...` без токена — ок.
- С удалённого IP (или симуляция через заголовок/проксирование) — без токена отказ.

## Артефакты

- Middleware/guard
- Документация по токену
