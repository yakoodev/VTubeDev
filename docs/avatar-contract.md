# Avatar Contract

Это контракт между пользователем и агентом: он описывает, как выглядит эталонный аватар и что нужно предоставить, чтобы агент мог тестировать веб-камеру без участия человека.

## 1. Описание эталона
- Аватар — это короткий видеоролик (3–5 секунд) в формате MP4, который имитирует поток веб-камеры.
- Видео должно показывать статичное лицо/объект на нейтральном фоне, в хорошем освещении, без резких движений. Цель — обеспечить стабильное изображение, которое Unity может принять как входной кадр.

## 2. Требования к файлу
- Формат: H.264 MP4, без звука.
- Разрешение: 1280×720 или 1920×1080 (в зависимости от того, какой режим берёт таска).
- Частота кадров: 30 fps (хорошо для большинства записей).
- Имя файла: `avatar-sim-<task-id>.mp4` (если это примечание/демонстрация, можно использовать `avatar-sim.mp4`). Хранить в `docs/avatar/` или `tests/avatar/`.
- Также положи рядом `avatar-sim.md`, где коротко опиши, какие положения камеры и предмет отражены в видео.

## 3. Как агент использует видео
- Если задача требует веб-камеру, вместо реального устройства агент подключает файл `avatar-sim.mp4` через тестовую ноду/скрипт и объясняет, как это делалось (какая команда, какая настройка).
- В описании задачи или PR укажи, что использовался «симулированный поток» и приложи ссылки на скриншоты/видео.
- Видео можно захватить снова (новый файл) если нужно показать другой ракурс или эффект.

## 4. Проверка
- Каждый раз, когда агент тестирует веб-камеру, добавляй короткую заметку «см. `docs/avatar/avatar-sim.mp4`» и уточняй, какая сцена/функция была проверена.
- Если задача требует изменения поведения камеры (например, overlay, фильтры), делай два прохода: базовый без фильтров и с включёнными эффектами, чтобы иметь сравнение.

## 5. Почему видео?
- Так как пользователь не всегда может сидеть перед камерой, короткое видео делает весь цикл воспроизводимым.
- Видео можно переснимать через Unity Recorder, OBS или любую другую утилиту — главное обеспечить стабильность входного сигнала.
- Если пользователю нужно обновить эталон, он просто заменяет файл в `docs/avatar/` и делает новый коммит.

С этим контрактом агент знает, что должно быть примером аватара и как им пользоваться, когда гладит графы и UI, завязанные на камеру.

## 6. Текущий пример
- Живой файл: `tasks/avatar/avatar-sim.mp4` — контейнер ISO MP4, видеодорожка `avc1` (H.264), разрешение 1920×1080 (по `tkhd`).
- Описание и проверка: `docs/avatar/avatar-sim.md` рассказывает, откуда видео, зачем оно нужно, и какие параметры зафиксированы.
