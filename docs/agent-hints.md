# Agent Hints

Это шпаргалка для автономного агента: тут указано, как запускать проект, какие файлы можно трогать, как снимать и описывать скриншоты/логи, чтобы потом всё работало без вмешательства пользователя.

## 1. Запуск и базовая проверка
- Работай из корня: `~/VTubeDev`. Unity проект живёт в `unity/`, сервер/оркестратор — в `app/`.
- Перед руками запуском прогоняй `git status`, `git diff` — убедись, что нет незакоммиченных изменений.
- Unity лучше запускать через Windows (путь `C:\Program Files\Unity\Hub\Editor\<версия>\Editor\Unity.exe`). Из WSL это можно делать через `powershell.exe -File tools/unity-smoke.ps1` или аналогичный скрипт.
- Если запускаешь непосредственно из Unity Editor, открывай `unity/Assets/Scenes/Sandbox.unity` и стартуй Play Mode, чтобы убедиться в отсутствии критических ошибок.

## 2. Что можно менять и чего избегать
- Можно: `unity/Assets/`, `app/`, `shared/`, `docs/` — если изменение прямо указано в таске.
- Избегай коммитов в `unity/Library`, `unity/Temp`, `unity/UserSettings`, `unity/*.sln`, `unity/*.csproj`, `unity/*.vsconfig`.
- `ProjectSettings/` модифицируй только тогда, когда задача требует это явно и изменения документированы (в противном случае только чтение).
- Если нужно добавить новый файл конфигурации, убедись, что схема/валидатор тоже обновлены.

## 3. Скриншоты и видео для проверок
- Скриншоты делают при запуске нужной сцены (обычно `Sandbox`). Используй Unity Game View -> `Window > General > Capture Screenshot` или установи кастомный скрипт.
- Назови скриншот по шаблону `task-<ID>-<context>.png` и сохрани в `docs/screenshots/` (создай папку, если её нет). Добавь короткое описание того, что видно на скриншоте в задаче или PR.
- Если нужно проверить поток (стрим/камера/overlay), делай несколько снимков: 1) базовый фрейм, 2) с overlay, 3) после применения активных эффектов.
- Видео (или анимация) делается через Unity Recorder или внешнюю утилиту, затем конвертируется в MP4 и описывается в отчёте (ссылка на файл в репо или путь). Видео помогает показать воспроизводимый баг/поведение, особенно если нужно эмулировать камеру.

## 4. Логи и диагностика
- Unity Editor пишет лог в `%LOCALAPPDATA%\Unity\Editor\Editor.log`. Из WSL получи файл через `powershell.exe -Command "Get-Content ..."` и сохрани ключевые строки.
- Если задача использует `app/`, собирай серверные логи (обычно stdout/`logs/`), прикладывай в задаче краткие выдержки и упоминание файла.
- В отчётах указывай, какую команду запускал и где искать логи (например `unity_logs/Editor.log` или `app/logs/smoke.log`).

## 5. Unity MCP и автопилот
- Как только Unity MCP будет подключён, используй его для:
  - запуска проекта (открытие сцены, старт Play Mode),
  - выполнения тестов и smoke (batchmode),
  - снятия скриншотов/видео через встроенный recorder,
  - доступа к логам и статусам кнопок.
- Если MCP требует специальные команды, запроси список у пользователя или найди инструкции в `docs/`.
- В отчётах фиксируй, что MCP использовался: какие команды, какой билд/сцена, какие файлы сохранил.

## 6. Что писать в задачах
- Опиши, где именно ты сделал скриншот (статья, сцена, режим) и что видно.
- Поясни, какое устройство/видео использовалось для эмуляции камеры и в чём суть проверки.
- Отмечай ограничения (например «видеопоток в тестах выключен, потому используем `avatar-sim.mp4`»).
- Если что-то не получилось (например MCP не отвечает), сразу документируй это как блокер.

Эти подсказки закрывают основные подводные камни: теперь агент знает, как запускать, какие файлы трогать, как собирать доказательства в виде скриншотов/видео и как передать логи пользователю.
